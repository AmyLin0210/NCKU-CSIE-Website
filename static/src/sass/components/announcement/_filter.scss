@import 'components/announcement/tags';

// template
// `> .filter`
// This mixin should not be used outside this file.
@mixin filter () {
  // block
  // `> .filter`
  > .filter {
    // [ variable ]
    $small: 425px;
    $large: 850px;

    // [ skin ]
    min-height: 4rem;

    // [ layout ]
    display: flex;
    flex-flow: row wrap;

    // grid-template-areas: 'filter__time' 'filter__tags';

    // [ RWD: $x-small ]
    @media screen and ( min-width: $large ) {
      // [ layout ]
      display: grid;
      grid-column-gap: 20%;
      grid-template: {
        areas: 'filter__tags filter__time';
        columns: 45% 35%;
        rows: none;
      }
    }

    // element
    // `> .filter > .filter__time`
    // block
    // `> .filter > .time`
    > .filter__time.time {
      // [ position ]
      grid: {
        area: filter__time;
        template-columns: repeat( auto-fill, 4.8rem );
      }

      // [ layout ]
      display: flex;
      flex-flow: row wrap;
      justify-content: center;
      align-items: end;
      margin-bottom: .8rem;

      // [ skin ]
      font-size: .4375rem;
      min-width: 100%;

      // [ RWD: $x-small ]
      @media screen and ( min-width: $large ) {
        // [ layout ]
        display: grid;
        grid-template-columns: auto auto;
      }

      // modifier
      // `> .filter > .time.filter__time--hidden`

      &.filter__time--hidden {
        // [ layout ]
        display: none;

        // [ RWD: $x-large ]
        @media screen and ( min-width: $large ) {
          // [ layout ]
          display: flex;
        }
      }

      .time__from, .time__to {
        justify-self: center;
      }

      // element
      // `> .filter > .time .time__date`

      .from__input, .to__input {
        // [ position ]
        align-self: center;

        // [ layout ]
        display: grid;
        grid: {
          column-start: auto;
          row-start: auto;
          template-columns: 40% 30% 30%;
        }

        // [ skin ]
        margin: .3rem .6rem .2rem .2rem;
        border: .016rem solid #757575;
        border-radius: 1rem;
        padding: {
          top: .15rem;
          bottom: .15rem;
          left: .25rem;
          right: .05rem;
        }
        width: 4.2rem;
        height: 1rem;
        background: none;

        .input {
          text-align: center;
        }

        > input {
          background: rgba( 0, 0, 0, 0 );
          outline: none;
          border: none;
        }
      }

      .from__text, .to__text {
        text-align: left;
        grid-column: 1 / span 3;
        padding-left: .5rem;
      }
    }

    // element
    // `> .filter > .filter__tags`
    // block
    // `> .filter > .tags`
    > .filter__tags {
      @include tags() {
        // [ position ]
        grid-area: filter__tags;
        align-self: flex-start;

        // [ layout ]
        display: flex;
        flex-flow: row wrap;
        @media screen and ( min-width: $large ) {
          display: grid;
          grid-template: {
            rows: repeat( 4, auto );
            columns: repeat( 5, auto );
          }
        }

        // [ skin ]
        font-size: .4375rem;

        // modifier
        // `> .filter > .filter__tags.filter__tags--hidden`

        &.filter__tags--hidden {
          // [ layout ]
          display: none;

          // [ RWD: $x-large ]
          @media screen and ( min-width: $large ) {
            // [ layout ]
            display: grid;
          }
        }
      }
    }

    // [ customization ]
    @content;
  }
}
